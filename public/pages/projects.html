<!-- projects page -->
<div
    id="s_projects_page" class="container-xxl"
    x-data="projectsAlpine()"
>
    <!-- spacing -->
    <div class="r_spacer-v2"></div>

    <!-- projects tag, title & description -->
    <div
        slot="tag-title-text"
        x-data="{
            tag: 'Projects',
            title: 'My Projects',
            text: `Explore a collection of my recent work across various technologies and domains.`
        }"
    ></div>

    <!-- spacing -->
    <div class="pb-10 mb-6"></div>

    <!-- filter & search bar -->
    <div class="search_bar p-8 rounded-2">
        <div class="d-flex flex-wrap flex-lg-nowrap align-items-center justify-content-between gap-6 gap-lg-8">
            <!-- filter title & tags -->
            <div class="col-120 col-lg-auto flex-shrink-1 d-flex align-items-center gap-6 gap-md-7">
                <!-- filter icon & title -->
                <div class="d-flex align-items-center gap-4">
                    <i class="bi bi-funnel fs-24"></i>
                    <div class="text-white fs-16 d-none d-sm-block">Filter:</div>
                </div>
                <!-- filter tags -->
                <div class="d-flex flex-wrap gap-4">
                    <template x-for="tag in filterTags">
                        <button
                            class="filter_tag d-center rounded-pill px-5 py-2"
                            :class="{'active': tag === activeTag}"
                            @click="activeTag = tag"
                        >
                            <span class="fs-13 fs-sm-14 px-2 py-1 lh-120p" x-text="tag"></span>
                        </button>
                    </template>
                </div>
            </div>
            <!-- search bar & grid toggle -->
            <div class="col-120 col-lg-auto d-flex align-items-center gap-7 gap-xl-8">
                <!-- search bar -->
                <div
                    x-data="{ focussed: false, }"
                    class="search_input_ctn position-relative col-120 col-lg-auto flex-shrink-1"
                    :class="{'focused': focussed}"
                >
                    <i class="bi bi-search fs-18 position-absolute top-50 translate-middle"></i>
                    <input
                        x-model.debounce.300ms="searchQuery"
                        @focus="focussed = true"
                        @blur="focussed = false"
                        class="form-control col-120 col-sm-auto fs-14 fs-sm-15"
                        type="text" name="search_projects"
                        placeholder="Search projects..."
                        aria-label="search for projects input"
                    >
                </div>
                <!-- grid toggle -->
                <div class="toggle_ctn d-flex flex-shrink-0 justify-content-end">
                    <button
                        class="layout_toggle" :class="{'is_grid': is_grid}"
                        @click="is_grid = !is_grid"
                    >
                        <span></span><span></span>
                        <span></span><span></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- spacing -->
    <div class="pb-10 mb-2"></div>

    <!-- grid cards -->
    <div class="w-100" x-show="is_grid" x-transition:enter>
        <div
            slot="project-grid-card"
            x-data="{parentProjects: filteredProjects}"
            x-init="$watch('filteredProjects', value => parentProjects = value)"
        ></div>
    </div>

    <!-- list cards -->
    <div class="w-100" x-show="!is_grid" x-transition:enter style="display: none;">
        <div
            slot="project-list-card"
            x-data="{parentProjects: filteredProjects}"
            x-init="$watch('filteredProjects', value => parentProjects = value)"
        ></div>
    </div>

    <!-- spacing -->
    <div class="r_spacer-v1"></div>
</div>
